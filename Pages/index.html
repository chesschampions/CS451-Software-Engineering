<!DOCTYPE html>
<html>
<head>
<title>Checkers Game team7</title>
<link rel="stylesheet" href="styles.css">
</head>

<body>
<script src="script.js"></script>

<center>

<h1 id="header"></h1>

<div id="setup">
<h1>Hi welcome to the checkers game</h1>
<p>Do you want to host or join a game?</p>
    <button onclick="startGame('host')">Host Game</button>
    <button onclick="startGame('join')">Join Game</button>
</div>

<p id="gid"></p>

<div class="container">
    <div class="chessboard">
        <!-- 1st -->
        <div class="black" id="00" onClick="reply_click(this.id)">O</div>
        <div class="white" id="01"></div>
        <div class="black" id="02" onClick="reply_click(this.id)">O</div>
        <div class="white" id="03"></div>
        <div class="black" id="04" onClick="reply_click(this.id)">O</div>
        <div class="white" id="05"></div>
        <div class="black" id="06" onClick="reply_click(this.id)">O</div>
        <div class="white" id="07"></div>

        <!-- 2nd -->
        <div class="white" id="10"></div>
        <div class="black" id="11" onClick="reply_click(this.id)">O</div>
        <div class="white" id="12"></div>
        <div class="black" id="13" onClick="reply_click(this.id)">O</div>
        <div class="white" id="14"></div>
        <div class="black" id="15" onClick="reply_click(this.id)">O</div>
        <div class="white" id="16"></div>
        <div class="black" id="17" onClick="reply_click(this.id)">O</div>

        <!-- 3rd -->
        <div class="black" id="20" onClick="reply_click(this.id)">O</div>
        <div class="white" id="21"></div>
        <div class="black" id="22" onClick="reply_click(this.id)">O</div>
        <div class="white" id="23"></div>
        <div class="black" id="24" onClick="reply_click(this.id)">O</div>
        <div class="white" id="25"></div>
        <div class="black" id="26" onClick="reply_click(this.id)">O</div>
        <div class="white" id="27"></div>

        <!-- 4th -->
        <div class="white" id="30"></div>
        <div class="black" id="31" onClick="reply_click(this.id)"></div>
        <div class="white" id="32"></div>
        <div class="black" id="33" onClick="reply_click(this.id)"></div>
        <div class="white" id="34"></div>
        <div class="black" id="35" onClick="reply_click(this.id)"></div>
        <div class="white" id="36"></div>
        <div class="black" id="37" onClick="reply_click(this.id)"></div>

        <!-- 5th -->
        <div class="black" id="40" onClick="reply_click(this.id)"></div>
        <div class="white" id="41"></div>
        <div class="black" id="42" onClick="reply_click(this.id)"></div>
        <div class="white" id="43"></div>
        <div class="black" id="44" onClick="reply_click(this.id)"></div>
        <div class="white" id="45"></div>
        <div class="black" id="46" onClick="reply_click(this.id)"></div>
        <div class="white" id="47"></div>

        <!-- 6th -->
        <div class="white" id="50"></div>
        <div class="black" id="51" onClick="reply_click(this.id)">X</div>
        <div class="white" id="52"></div>
        <div class="black" id="53" onClick="reply_click(this.id)">X</div>
        <div class="white" id="54"></div>
        <div class="black" id="55" onClick="reply_click(this.id)">X</div>
        <div class="white" id="56"></div>
        <div class="black" id="57" onClick="reply_click(this.id)">X</div>

        <!-- 7th -->
        <div class="black" id="60" onClick="reply_click(this.id)">X</div>
        <div class="white" id="61"></div>
        <div class="black" id="62" onClick="reply_click(this.id)">X</div>
        <div class="white" id="63"></div>
        <div class="black" id="64" onClick="reply_click(this.id)">X</div>
        <div class="white" id="65"></div>
        <div class="black" id="66" onClick="reply_click(this.id)">X</div>
        <div class="white" id="67"></div>

        <!-- 8th -->
        <div class="white" id="70"></div>
        <div class="black" id="71" onClick="reply_click(this.id)">X</div>
        <div class="white" id="72"></div>
        <div class="black" id="73" onClick="reply_click(this.id)">X</div>
        <div class="white" id="74"></div>
        <div class="black" id="75" onClick="reply_click(this.id)">X</div>
        <div class="white" id="76"></div>
        <div class="black" id="77" onClick="reply_click(this.id)">X</div>
    </div>

    <script src="script.js"></script>
    <div id="textblock" class="text-block">
        <p id="hostgid"></p>
    </div>
</div>
<div>
    <button>Back</button>
</div>
</center>

<script src="/socket.io/socket.io.js"></script>
<script>
var socket = io();

// listens for when opponent left the game
socket.on("opponentDC", function(msg){
    alert(msg)
    // close the game somehow
    });

// listens for error messages
socket.on("error", function(msg){
    alert(msg);
    });

// fresh board
var game = {
    Player: "N"
    boardstate: 
    [
        [1,0,1,0,1,0,1,0],
        [0,1,0,1,0,1,0,1],
        [1,0,1,0,1,0,1,0],
        [0,0,0,0,0,0,0,0],
        [0,0,0,0,0,0,0,0],
        [0,-1,0,-1,0,-1,0,-1],
        [-1,0,-1,0,-1,0,-1,0],
        [0,-1,0,-1,0,-1,0,-1]
    ]};

// who am I
socket.on("playerName", function(msg)
{
    game.Player = msg;
}


// loads checkers board
socket.on("updateBoard", function(msg){
    game.board = msg;
    // run josh's thing that renders the board
    });
    
// listens for the game id
socket.on("gid", function(msg){
    document.getElementByIdidd("gid").innerHTML = "Your room ID is: " + msg;
   });


function hideSetup()
{
    document.getElementById("setup").style.display = "none";
    document.getElementById("header").innerHTML = "Checkers game team7";
}

function gameOver()
{
    alert("game over");
}

function startGame(hosting)
{
    if (hosting == "host"){
        io.emit("gameReq", -1);
    }else
    {
        gameID = prompt("please enter the ID of the game that you are joining");
        io.emit("gameReq", gameID);
    }
    
    hideSetup();
}

function movePiece(mRequest)
{
    io.emit("moveReq",mRequest);
}



</script>

</body>
</html>

