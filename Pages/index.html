<!DOCTYPE html>
<html>
<head>
<title>Checkers Game team7</title>
</head>
<body>
<style>
.container {
  position: relative;
  font-family: Arial;
}

.text-block {
  position: absolute;
  bottom: 300px;
  right: 100px;
  background-color: black;
  color: white;
  padding-left: 20px;
  padding-right: 20px;
  display: none;
}
</style>
<center>

<h1 id="header"></h1>

<div id="setup">
<h1>Hi welcome to the checkers game</h1>
<p>Do you want to host or join a game?</p>
    <button onclick="hostGame()">Host Game</button>
    <button onclick="joinGame()">Join Game</button>
</div>

<p id="gid"></p>

<div class="container">
  <img id="checkersboard">
    <div id="textblock" class="text-block"> 
        <p id="hostgid"></p>
    </div>
</div>
<div>
    <button>Back</button>
</div>
</center>
<script src="/socket.io/socket.io.js"></script>
<script>
var socket = io();

// listens for when opponent left the game
socket.on("opponentDC", function(msg){
    alert(msg)
    // close the game somehow
    });

// listens for error messages
socket.on("error", function(msg){
    alert(msg);
    });

// fresh board
var game = {
    boardstate: 
    [
        [1,0,1,0,1,0,1,0],
        [0,1,0,1,0,1,0,1],
        [1,0,1,0,1,0,1,0],
        [0,0,0,0,0,0,0,0],
        [0,0,0,0,0,0,0,0],
        [0,-1,0,-1,0,-1,0,-1],
        [-1,0,-1,0,-1,0,-1,0],
        [0,-1,0,-1,0,-1,0,-1]
    ]};
        
// loads checkers board
socket.on("updateBoard", function(msg){
    game = msg;
    });

function hideSetup()
{
    document.getElementById("setup").style.display = "none";
    document.getElementById("header").innerHTML = "Checkers game team7";
}

function gameOver()
{
    alert("game over");
}

function hostGame()
{
    var socket = io();
    hideSetup();
    // communicate with server and generate game id for the user
    io.emit("gameReq", -1);
    
    // listens for the game id
    socket.on("gid", function(msg){
        document.getElementById("gid").innerHTML = "Your room ID is: " + msg;
        });

    // load the checker board graphics 

    // clean up after the game is over
    // gameOver();
    
}

function joinGame()
{  
    var socket = io();
    hideSetup();

    var gameID = prompt("Please enter the Game ID that you are joining");
    io.emit("gameReq", parseInt(gameID));
    
    // load the checkers board graphics

    // clean up after the game is over 
    // gameOver();
}
</script>

</body>
</html>

